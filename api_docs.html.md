# API Documentation Generation


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Formatting Functions

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L27"
target="_blank" style="float:right; font-size:smaller">source</a>

### format_function_doc

>  format_function_doc (func:cjm_nbdev_overview.parsers.FunctionInfo,
>                           indent:str='')

*Format a function with its signature for documentation*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>func</td>
<td>FunctionInfo</td>
<td></td>
<td>Function information</td>
</tr>
<tr>
<td>indent</td>
<td>str</td>
<td></td>
<td>Indentation prefix</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td></td>
<td><strong>Formatted documentation</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L61"
target="_blank" style="float:right; font-size:smaller">source</a>

### format_class_doc

>  format_class_doc (cls:cjm_nbdev_overview.parsers.ClassInfo)

*Format a class with its signature and methods for documentation*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>cls</td>
<td>ClassInfo</td>
<td>Class information</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td><strong>Formatted documentation</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L127"
target="_blank" style="float:right; font-size:smaller">source</a>

### format_variable_doc

>  format_variable_doc (var:cjm_nbdev_overview.parsers.VariableInfo)

*Format a variable for documentation*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>var</td>
<td>VariableInfo</td>
<td>Variable information</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td><strong>Formatted documentation</strong></td>
</tr>
</tbody>
</table>

## Module Documentation Generation

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L305"
target="_blank" style="float:right; font-size:smaller">source</a>

### generate_module_overview

>  generate_module_overview (module:cjm_nbdev_overview.parsers.ModuleInfo,
>                                show_all:bool=False)

*Generate a markdown overview for a module*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>module</td>
<td>ModuleInfo</td>
<td></td>
<td>Module information</td>
</tr>
<tr>
<td>show_all</td>
<td>bool</td>
<td>False</td>
<td>Show all items including private</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td></td>
<td><strong>Module overview markdown</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L328"
target="_blank" style="float:right; font-size:smaller">source</a>

### generate_project_api_docs

>  generate_project_api_docs (path:pathlib.Path=None, show_all:bool=False)

*Generate API documentation for all modules in a project*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>Path</td>
<td>None</td>
<td>Project path (defaults to nbs_path)</td>
</tr>
<tr>
<td>show_all</td>
<td>bool</td>
<td>False</td>
<td>Show all items including private</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td></td>
<td><strong>Full API documentation</strong></td>
</tr>
</tbody>
</table>

## Index Update Function

The
[`update_index_module_docs`](https://cj-mills.github.io/cjm-nbdev-overview/api_docs.html#update_index_module_docs)
function can automatically update your project’s index.ipynb with module
documentation:

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L460"
target="_blank" style="float:right; font-size:smaller">source</a>

### update_index_module_docs

>  update_index_module_docs (index_path:pathlib.Path=None,
>                                start_marker:str='## Module Overview')

*Update the module documentation section in index.ipynb*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>index_path</td>
<td>Path</td>
<td>None</td>
<td>Path to index.ipynb (defaults to nbs/index.ipynb)</td>
</tr>
<tr>
<td>start_marker</td>
<td>str</td>
<td>## Module Overview</td>
<td>Marker to identify module docs section</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td><strong>Updates index.ipynb in place</strong></td>
</tr>
</tbody>
</table>

``` python
# Example: Update the index.ipynb with module documentation
# update_index_module_docs()  # This will update nbs/index.ipynb

# Or specify a custom path:
# update_index_module_docs(Path("../other_project/nbs/index.ipynb"))
```

## Comprehensive Index Update Functions

Additional functions to update index.ipynb with project structure,
dependencies, CLI reference, and statistics:

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L489"
target="_blank" style="float:right; font-size:smaller">source</a>

### add_project_structure_section

>  add_project_structure_section (index_path:pathlib.Path=None,
>                                     marker:str='## Project Structure',
>                                     exclude_index:bool=True)

*Generate project structure tree content for index.ipynb*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>index_path</td>
<td>Path</td>
<td>None</td>
<td>Path to index.ipynb</td>
</tr>
<tr>
<td>marker</td>
<td>str</td>
<td>## Project Structure</td>
<td>Section marker</td>
</tr>
<tr>
<td>exclude_index</td>
<td>bool</td>
<td>True</td>
<td>Exclude index.ipynb from tree</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td></td>
<td><strong>Generated structure content</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L516"
target="_blank" style="float:right; font-size:smaller">source</a>

### add_dependencies_section

>  add_dependencies_section (index_path:pathlib.Path=None, marker:str='##
>                                Module Dependencies', direction:str='LR')

*Generate module dependencies diagram content for index.ipynb*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>index_path</td>
<td>Path</td>
<td>None</td>
<td>Path to index.ipynb</td>
</tr>
<tr>
<td>marker</td>
<td>str</td>
<td>## Module Dependencies</td>
<td>Section marker</td>
</tr>
<tr>
<td>direction</td>
<td>str</td>
<td>LR</td>
<td>Diagram direction</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td></td>
<td><strong>Generated dependencies content</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L557"
target="_blank" style="float:right; font-size:smaller">source</a>

### add_cli_reference_section

>  add_cli_reference_section (marker:str='## CLI Reference')

*Generate CLI reference content for index.ipynb based on project’s
console scripts*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>marker</td>
<td>str</td>
<td>## CLI Reference</td>
<td>Section marker</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td></td>
<td><strong>Generated CLI content</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-nbdev-overview/blob/main/cjm_nbdev_overview/api_docs.py#L632"
target="_blank" style="float:right; font-size:smaller">source</a>

### update_index_comprehensive

>  update_index_comprehensive (index_path:pathlib.Path=None,
>                                  include_structure:bool=True,
>                                  include_dependencies:bool=True,
>                                  include_cli:bool=True,
>                                  include_modules:bool=True)

*Comprehensively update index.ipynb with project structure,
dependencies, CLI, and modules*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>index_path</td>
<td>Path</td>
<td>None</td>
<td>Path to index.ipynb</td>
</tr>
<tr>
<td>include_structure</td>
<td>bool</td>
<td>True</td>
<td>Include project structure</td>
</tr>
<tr>
<td>include_dependencies</td>
<td>bool</td>
<td>True</td>
<td>Include module dependencies</td>
</tr>
<tr>
<td>include_cli</td>
<td>bool</td>
<td>True</td>
<td>Include CLI reference</td>
</tr>
<tr>
<td>include_modules</td>
<td>bool</td>
<td>True</td>
<td>Include module documentation</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td><strong>Updates index.ipynb in place</strong></td>
</tr>
</tbody>
</table>

``` python
# Example: Update index.ipynb with comprehensive documentation
# update_index_comprehensive()  # Full update with all sections

# Or customize what sections to include:
# update_index_comprehensive(
#     include_structure=True,     # Project tree
#     include_dependencies=True,  # Module dependencies 
#     include_cli=True,          # CLI reference
#     include_modules=True       # Module documentation
# )
```

## Testing

Let’s test the API documentation generation on our project:

``` python
# First, let's export our modules
import nbdev
nbdev.nbdev_export()
```

``` python
# Test the updated generate_module_overview function
import nbdev
nbdev.nbdev_export()

# Test generating documentation for a single module
core_module = parse_notebook(Path("core.ipynb"))
print("Updated module overview with import statements:")
print("=" * 50)
print(generate_module_overview(core_module))
```

    Updated module overview with import statements:
    ==================================================
    ### Core Utilities (`core.ipynb`)
    > Core utilities and data models for nbdev project overview generation

    #### Import

    ```python
    # Import statements not available
    ```

    #### Functions

    ```python
    def get_notebook_files(path: Path = None,           # Directory to search (defaults to nbs_path)
                          recursive: bool = True        # Search subdirectories
                          ) -> List[Path]:              # List of notebook paths
        "Get all notebook files in a directory"
    ```

    ```python
    def get_subdirectories(path: Path = None,           # Directory to search (defaults to nbs_path)
                          recursive: bool = False       # Include all nested subdirectories
                          ) -> List[Path]:              # List of directory paths
        "Get subdirectories in a directory"
    ```

    ```python
    def read_notebook(path: Path                    # Path to notebook file
                     ) -> Dict[str, Any]:           # Notebook content as dict
        "Read a notebook file and return its content"
    ```

    ```python
    def get_cell_source(cell: Dict[str, Any]        # Notebook cell
                       ) -> str:                    # Cell source as string
        "Get source from a notebook cell"
    ```

    #### Classes

    ```python
    @dataclass
    class NotebookInfo:
        "Information about a single notebook"
        
        path: Path  # Path to the notebook file
        name: str  # Notebook filename without extension
        title: Optional[str]  # H1 title from first cell
        description: Optional[str]  # Blockquote description from first cell
        export_module: Optional[str]  # Module name from default_exp
        
        def relative_path(self) -> Path:       # Path relative to nbs directory
            "Get path relative to nbs directory"
    ```

    ```python
    @dataclass
    class DirectoryInfo:
        "Information about a directory in the nbs folder"
        
        path: Path  # Path to the directory
        name: str  # Directory name
        notebook_count: int = 0  # Number of notebooks in directory
        description: Optional[str]  # Description from folder's main notebook
        subdirs: List[DirectoryInfo] = field(...)  # Subdirectories
        notebooks: List[NotebookInfo] = field(...)  # Notebooks in this directory
        
        def total_notebook_count(self) -> int:          # Total notebooks including subdirs
            "Get total notebook count including subdirectories"
    ```

``` python
# Test another module to see how the imports look
parsers_module = parse_notebook(Path("parsers.ipynb"))
print("Parsers module overview:")
print("=" * 30)
print(generate_module_overview(parsers_module)[:800] + "..." if len(generate_module_overview(parsers_module)) > 800 else generate_module_overview(parsers_module))
```

    Parsers module overview:
    ==============================
    ### Notebook and Module Parsing (`parsers.ipynb`)
    > Parse notebook metadata, content, and extract function/class signatures with docments

    #### Import

    ```python
    # Import statements not available
    ```

    #### Functions

    ```python
    def extract_docments_signature(node: ast.FunctionDef,          # AST function node
                                  source_lines: List[str]          # Source code lines
                                  ) -> str:                        # Function signature
        "Extract function signature with docments-style comments"
    ```

    ```python
    def _parse_decorators(node: Union[ast.ClassDef, ast.FunctionDef]  # AST node with decorators
                         ) -> List[str]:                              # List of decorator names
        "Parse decorators from an AST node"
    ```

    ```python
    def pa...
